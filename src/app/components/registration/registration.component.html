<div class="spacer25"></div>
<h2>Register New Player:</h2>
<div class="required-fields-label" [ngStyle]="{'color': isSubmitted && !userForm.valid ? '#dc3545' : ''}">
  * All fields are required
</div>
<div class="spacer25"></div>
<form [formGroup]="userForm">
  <div class="form-row">
    <div class="col-md-2 profile-image-container">
      <img class="profile-image" src="/assets/profile_picture.png">
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <label>
          First Name:
        </label>
        <input type="text" formControlName="firstName"class="form-control" 
          [ngClass]="{'valid':isSubmitted && !userForm.controls.firstName.errors, 'invalid': isSubmitted && userForm.controls.firstName.errors }">
      </div>
      <div class="form-group">
        <label>
          Last Name:
        </label>
        <input type="text" formControlName="lastName" class="form-control"
          [ngClass]="{'valid':isSubmitted && !userForm.controls.lastName.errors, 'invalid': isSubmitted && userForm.controls.lastName.errors }">
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="col-md-3 form-group">
      <label>
        Username:
      </label>
      <input type="text" formControlName="username" class="form-control"
        [ngClass]="{'valid':isSubmitted && !userForm.controls.username.errors, 'invalid': isSubmitted && userForm.controls.username.errors }">
      <div class="error-message" *ngIf="isSubmitted && userForm.get('username').errors?.usernameNotUnique">* This username exists</div>
    </div>
    <div class="col-md-3 form-group">
      <label>
        Password:
      </label>
      <input type="password" formControlName="password" class="form-control"
        [ngClass]="{'valid':isSubmitted && !userForm.controls.password.errors, 'invalid': isSubmitted && userForm.controls.password.errors }">
    </div>
  </div>
  <div class="form-row">
    <div class="col-md-3 form-group">
      <label>
        Email:
      </label>
      <input type="email" formControlName="email" class="form-control"
        [ngClass]="{'valid':isSubmitted && !userForm.controls.email.errors, 'invalid': isSubmitted && userForm.controls.email.errors }">
      <div class="error-message" *ngIf="isSubmitted && userForm.get('email').errors?.emailNotUnique">* This email exists</div>
      <div class="error-message" *ngIf="isSubmitted && userForm.get('email').errors?.pattern">* Invalid email format</div>
    </div>
  </div>
  <button (click)="save()" class="btn-common btn-lg" [disabled]="isSubmitted && !userForm.valid">Register</button>
</form>